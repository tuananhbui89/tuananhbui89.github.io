<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Project Git | Tuan-Anh  Bui</title>
    <meta name="author" content="Tuan-Anh  Bui">
    <meta name="description" content="git clean -xdf ... :(">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e">
    <link rel="canonical" href="https://tuananhbui89.github.io/projects/project-git/">

    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">
    <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script>
    <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Tuan-Anh </span>Bui</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item ">
                <a class="nav-link" href="/blog/">blog</a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/publications/">publications</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">projects</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/repositories/">repositories</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/teaching/">teaching</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Project Git</h1>
    <p class="post-meta">June 24, 2024</p>
    <p class="post-tags">
      <a href="/blog/2024"> <i class="fas fa-calendar fa-sm"></i> 2024 </a>
        ·  
        <a href="/blog/category/work">
          <i class="fas fa-tag fa-sm"></i> work</a>  
          

    </p>
  </header>

  <article class="post-content">
    
    <div id="table-of-contents">
      <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2">
<a href="#basics-of-git">Basics of Git</a>
<ul>
<li class="toc-entry toc-h3"><a href="#git-commits">Git Commits</a></li>
<li class="toc-entry toc-h3"><a href="#git-branches">Git Branches</a></li>
<li class="toc-entry toc-h3"><a href="#braches-and-merging">Braches and Merging</a></li>
<li class="toc-entry toc-h3"><a href="#rebase">Rebase</a></li>
<li class="toc-entry toc-h3"><a href="#head">HEAD</a></li>
<li class="toc-entry toc-h3"><a href="#relative-refs">Relative Refs</a></li>
<li class="toc-entry toc-h3"><a href="#reversing-changes-in-git">Reversing Changes in Git</a></li>
</ul>
</li>
<li class="toc-entry toc-h2">
<a href="#moving-work-around">Moving Work Around</a>
<ul>
<li class="toc-entry toc-h3"><a href="#cherry-pick">Cherry-pick</a></li>
<li class="toc-entry toc-h3"><a href="#interactive-rebase">Interactive Rebase</a></li>
</ul>
</li>
</ul>
    </div>
    <hr>
    
    <div id="markdown-content">
      <p>A note on my learning journey with Git from this great source <a href="https://learngitbranching.js.org/" rel="external nofollow noopener" target="_blank">https://learngitbranching.js.org/</a></p>

<h2 id="basics-of-git">Basics of Git</h2>

<p>These following sections are the basics of Git that is enough for a majority of all workflows. It includes concepts like components of a working tree (commit, branch, HEAD), branching and merging, and how to reverse changes in Git.</p>

<h3 id="git-commits">Git Commits</h3>

<p>Git commits: snapshots of all the tracked files in your working directory.</p>

<ul>
  <li>Git can (when possible) compress a commit as a set of changes, or a “delta”, from one commit to the next.</li>
  <li>Git can maintain a history of these changes.</li>
  <li>Git can synchronize changes across multiple people.</li>
</ul>

<p>Demonstration:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init
<span class="nb">echo</span> <span class="s2">"Hello World"</span> <span class="o">&gt;</span> file.txt
git add file.txt
git commit <span class="nt">-m</span> <span class="s2">"Initial commit"</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"How are you?"</span> <span class="o">&gt;&gt;</span> file.txt
git commit <span class="nt">-am</span> <span class="s2">"Second commit"</span>
</code></pre></div></div>

<h3 id="git-branches">Git Branches</h3>

<p>Branches in Git are incredibly lightweight as they are just pointers to a specific commit.
A branch essentially says: “I want to include the work of this commit and all parent commits”.</p>

<p>Demonstration:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch bugFix <span class="c"># create a new branch called bugFix</span>
git checkout bugFix <span class="c"># switch to the bugFix branch</span>
<span class="nb">echo</span> <span class="s2">"Bug fixed"</span> <span class="o">&gt;&gt;</span> file.txt <span class="c"># make changes to the file</span>
git commit <span class="nt">-am</span> <span class="s2">"Bug fixed"</span> <span class="c"># commit the changes in the bugFix branch</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout main <span class="c"># switch to the main branch</span>
<span class="nb">echo</span> <span class="s2">"New feature"</span> <span class="o">&gt;&gt;</span> file.txt
git commit <span class="nt">-am</span> <span class="s2">"New feature"</span>
</code></pre></div></div>

<p>In the above example, <code class="language-plaintext highlighter-rouge">bugFix</code> and <code class="language-plaintext highlighter-rouge">main</code> are two branches. <code class="language-plaintext highlighter-rouge">bugFix</code> branch has a commit that fixes a bug, while <code class="language-plaintext highlighter-rouge">main</code> branch has a commit that adds a new feature.</p>

<p>Demonstration 2:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init
<span class="nb">echo</span> <span class="s2">"Hello World"</span> <span class="o">&gt;</span> file.txt
git add file.txt
git commit <span class="nt">-m</span> <span class="s2">"Initial commit"</span>
git branch bugFix
<span class="nb">echo</span> <span class="s2">"Bug fixed"</span> <span class="o">&gt;&gt;</span> file.txt
git commit <span class="nt">-am</span> <span class="s2">"Bug fixed"</span>
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">git checkout bugFix</code>: switch to the <code class="language-plaintext highlighter-rouge">bugFix</code> branch</li>
  <li>
<code class="language-plaintext highlighter-rouge">git checkout -b bugFix</code>: create a new branch called <code class="language-plaintext highlighter-rouge">bugFix</code> and switch to it</li>
  <li>
<code class="language-plaintext highlighter-rouge">git checkout main</code>: switch to the <code class="language-plaintext highlighter-rouge">main</code> branch</li>
</ul>

<h3 id="braches-and-merging">Braches and Merging</h3>

<p>Merging in Git creates a special commit that has two unique parents. A merge commit is necessary because a repository can have multiple branches with different commits. Essentially, a merge commit is to unify the changes of two branches.</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/merge-1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/merge-1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/merge-1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/merge-1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/merge-2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/merge-2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/merge-2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/merge-2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/merge-3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/merge-3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/merge-3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/merge-3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/merge-4-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/merge-4-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/merge-4-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/merge-4.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
</div>

<p>In the above example, <code class="language-plaintext highlighter-rouge">C4</code> is a merge commit of <code class="language-plaintext highlighter-rouge">C2</code> - branch <code class="language-plaintext highlighter-rouge">bugFix</code> and <code class="language-plaintext highlighter-rouge">C3</code> - branch <code class="language-plaintext highlighter-rouge">main</code>. Therefore, <code class="language-plaintext highlighter-rouge">C4</code> has two parents: <code class="language-plaintext highlighter-rouge">C2</code> and <code class="language-plaintext highlighter-rouge">C3</code>, which means <code class="language-plaintext highlighter-rouge">C4</code> contains all the changes/works of both <code class="language-plaintext highlighter-rouge">C2</code> and <code class="language-plaintext highlighter-rouge">C3</code>. 
Moreover, in the above example, we merge <code class="language-plaintext highlighter-rouge">bugFix</code> into <code class="language-plaintext highlighter-rouge">main</code> branch (illustrated by the same color). However, we can also merge <code class="language-plaintext highlighter-rouge">main</code> into <code class="language-plaintext highlighter-rouge">bugFix</code> branch.</p>

<p>Demonstration:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init
git commit <span class="nt">-m</span> <span class="s2">"C1"</span>
git checkout <span class="nt">-b</span> bugFix<span class="p">;</span> git commit <span class="nt">-am</span> <span class="s2">"C2"</span> <span class="c"># create a new branch bugFix and switch to it and then commit</span>
git checkout main<span class="p">;</span> git commit <span class="nt">-am</span> <span class="s2">"C3"</span> <span class="c"># switch to main and commit</span>
git merge bugFix <span class="c"># merge bugFix into main</span>
</code></pre></div></div>

<h3 id="rebase">Rebase</h3>

<p>Rebasing is the process of moving or combining a sequence of commits to a new base commit. Rebasing essentially takes a set of commits, “copies” them, and plops them down somewhere else. The advantage of rebasing is that it can be used to make a nice linear sequence of commits.</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/rebase-1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/rebase-1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/rebase-1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/rebase-1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/rebase-2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/rebase-2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/rebase-2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/rebase-2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/rebase-3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/rebase-3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/rebase-3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/rebase-3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>    
</div>
<div class="caption">
    Left: Before rebasing. Middle: After rebasing. The `bugFix` branch is rebased onto the `main` branch. Right: `git rebase bugFix` 
</div>

<p>Demonstration:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init
git commit <span class="nt">-m</span> <span class="s2">"C1"</span>
git branch bugFix
git checkout bugFix
git commit <span class="nt">-m</span> <span class="s2">"C2"</span>
git checkout main
git commit <span class="nt">-m</span> <span class="s2">"C3"</span>
git checkout bugFix
git rebase main <span class="c"># rebase bugFix onto main</span>
</code></pre></div></div>

<h3 id="head">HEAD</h3>

<p>HEAD is the symbolic name for the currently checked out commit. It is essentially the “current branch”. When you switch branches with <code class="language-plaintext highlighter-rouge">git checkout</code>, the HEAD revision changes to point to the tip of the new branch.</p>

<p>Detaching HEAD just means attaching it to a commit instead of a branch. For example, <code class="language-plaintext highlighter-rouge">git checkout C1</code> will detach HEAD and attach it to commit <code class="language-plaintext highlighter-rouge">C1</code>.</p>

<p>Demonstration:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init
git commit <span class="nt">-m</span> <span class="s2">"C1"</span> <span class="c"># HEAD -&gt; main -&gt; C1</span>
git branch bugFix <span class="c"># HEAD -&gt; main -&gt; C1</span>
git checkout bugFix <span class="c"># HEAD -&gt; bugFix -&gt; C1</span>
git commit <span class="nt">-m</span> <span class="s2">"C2"</span> <span class="c"># HEAD -&gt; bugFix -&gt; C2</span>
git checkout main <span class="c"># HEAD -&gt; main -&gt; C1</span>
git commit <span class="nt">-m</span> <span class="s2">"C3"</span> <span class="c"># HEAD -&gt; main -&gt; C3</span>
git merge bugFix <span class="c"># HEAD -&gt; main -&gt; C3 -&gt; C2</span>
git commit <span class="nt">-m</span> <span class="s2">"C4"</span> <span class="c"># HEAD -&gt; main -&gt; C4 -&gt; C3 -&gt; C2</span>
git checkout C4 <span class="c"># HEAD -&gt; C4</span>
</code></pre></div></div>

<h3 id="relative-refs">Relative Refs</h3>

<p>Relative refs are another powerful way to specify commits. They are almost exclusively used for moving around in history and are great for “walking back in time”.</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">^</code>: indicates the parent commit. <code class="language-plaintext highlighter-rouge">^^</code> indicates the grandparent commit.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~</code>: indicates the first parent commit.</li>
  <li>You can also use HEAD as a relative ref. For example, <code class="language-plaintext highlighter-rouge">HEAD^</code> is the parent commit of the current commit.</li>
</ul>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/branching-1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/branching-1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/branching-1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/branching-1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/branching-2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/branching-2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/branching-2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/branching-2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/branching-3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/branching-3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/branching-3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/branching-3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/branching-4-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/branching-4-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/branching-4-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/branching-4.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
</div>
<div class="caption">
    Illustration of before/after branching using relative refs. Left: start. Middle: `git branch -f main C6`. Right: `git checkout HEAD~1`. Far right: `git branch -f bugFix HEAD~1`
</div>

<p>Demonstration:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-f</span> main C6 <span class="c"># move the main branch to commit C6</span>
git checkout HEAD~1 <span class="c"># move HEAD to the parent commit of the current commit</span>
git branch <span class="nt">-f</span> bugFix HEAD~1 <span class="c"># move the bugFix branch to the parent commit of the current commit</span>
</code></pre></div></div>

<p>In the above example, <code class="language-plaintext highlighter-rouge">git branch -f source des_commit</code> forces the <code class="language-plaintext highlighter-rouge">source</code> branch to point to a specific destination commit <code class="language-plaintext highlighter-rouge">des_commit</code>, while <code class="language-plaintext highlighter-rouge">git checkout HEAD~1</code> moves HEAD to the parent commit of the current commit.</p>

<p>Comparing to <code class="language-plaintext highlighter-rouge">git reset</code>, <code class="language-plaintext highlighter-rouge">git branch -f</code> is used to move branches around, while <code class="language-plaintext highlighter-rouge">git reset</code> is used to move HEAD and the current branch around.</p>

<h3 id="reversing-changes-in-git">Reversing Changes in Git</h3>

<p>There are many ways to reverse changes in Git. Low-level approach like <code class="language-plaintext highlighter-rouge">staging</code> individual files or high-level approach like <code class="language-plaintext highlighter-rouge">git revert</code> or <code class="language-plaintext highlighter-rouge">git reset</code>.</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">git reset</code> reverts changes by moving a branch reference backward in time to an older commit. In this way, it can be used to “undo” commits or “rewriting history”. <strong><em>All commits after the reset commit will be lost</em></strong>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">git revert</code> creates a new commit that reverts the changes of a previous commit. It is a safe way to undo and can be shared with others unlike <code class="language-plaintext highlighter-rouge">git reset</code>.</li>
</ul>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/reverse-1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/reverse-1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/reverse-1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/reverse-1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/reverse-2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/reverse-2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/reverse-2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/reverse-2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/reverse-3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/reverse-3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/reverse-3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/reverse-3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
</div>
<div class="caption">
    Illustration of reverting changes. Left: starting point. There are three branches: main, pushed, and local. The current HEAD is at local branch and commit C3. Middle: `git reset HEAD~1`. Right: `git checkout pushed; git revert HEAD`
</div>

<p>Demonstration: Given the current working directory, reverse the most recent commit on both local and pushed (one per branch).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset HEAD~1 <span class="c"># reverse the most recent commit on the current branch</span>
git checkout pushed <span class="c"># switch to the pushed branch</span>
git revert HEAD <span class="c"># reverse the most recent commit on the pushed branch</span>
</code></pre></div></div>

<h2 id="moving-work-around">Moving Work Around</h2>

<p>This section covers more</p>

<h3 id="cherry-pick">Cherry-pick</h3>

<p>Cherry-picking in Git means to choose a specific commit from one branch and apply it onto another. This is in contrast with other ways such as <code class="language-plaintext highlighter-rouge">merge</code> or <code class="language-plaintext highlighter-rouge">rebase</code> which apply many commits onto another branch.</p>

<p>For example, <code class="language-plaintext highlighter-rouge">git cherry-pick C3 C4</code> will apply the changes of commits <code class="language-plaintext highlighter-rouge">C3</code> and <code class="language-plaintext highlighter-rouge">C4</code> onto the current branch.</p>

<h3 id="interactive-rebase">Interactive Rebase</h3>

<p>Interactive rebase is a powerful tool to re-write history. It allows you to change the order of commits, combine multiple commits into one, or even delete commits.</p>

<p>Situations where interactive rebase is useful:</p>

<ul>
  <li>Cleaning up a messy history before merging a feature branch.</li>
  <li>Squashing commits together to make them more readable.</li>
  <li>Splitting a commit into smaller commits.</li>
  <li>Removing a commit that introduced a bug.</li>
  <li>Reordering commits to make them more logical.</li>
  <li>Changing commit messages.</li>
</ul>

<p>Practical scenario: You have some changes (newImage) and another set of changes (caption) that are related, so they are stacked on top of each other in your repository. And you need to make a small modification to an earlier commit (newImage).</p>

<p>There are several approaches to solve this problem:</p>

<ul>
  <li>
<strong>Approach 1</strong>: Use <code class="language-plaintext highlighter-rouge">git rebase -i</code> to reorder the commits and then use <code class="language-plaintext highlighter-rouge">git commit --amend</code> to modify the commit. Then use <code class="language-plaintext highlighter-rouge">git rebase -i</code> to reorder the commits back to the original order.</li>
  <li>
<strong>Approach 2</strong>: Use <code class="language-plaintext highlighter-rouge">git cherry-pick</code> to apply the changes of the commit to a new commit. Then use <code class="language-plaintext highlighter-rouge">git rebase -i</code> to delete the original commit and reorder the new commit to the original position.</li>
</ul>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/i-rebase-1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/i-rebase-1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/i-rebase-1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/i-rebase-1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/i-rebase-goal-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/i-rebase-goal-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/i-rebase-goal-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/i-rebase-goal.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
</div>
<div class="caption">
    Illustration of interactive rebase. Left: starting point. There are three branches: main, newImage, and caption*. The current HEAD is at caption branch and commit C3. Right: The goal is to modify the commit C3 twice and the commit C2 three times, then reorder the commits back to the original order (C1, C2''', C3'') on the main branch.
</div>

<p>Demonstration: Given the current working directory, modify the commit C3 twice and the commit C2 three times, then reorder the commits back to the original order (C1, C2’’’, C3’’) on the main branch.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rebase <span class="nt">-i</span> HEAD~2 <span class="c"># rebasing the last two commits. Assuming the modifications are made. Reorder the commits as HEAD -&gt; C2' -&gt; C3' -&gt; C1</span>
git rebase <span class="nt">-i</span> HEAD~1 <span class="c"># rebasing the last commit. Assuming the modifications are made. HEAD -&gt; C2'' -&gt; C3' -&gt; C1</span>
git rebase <span class="nt">-i</span> HEAD~2 <span class="c"># reorder the commits back to the original order. HEAD -&gt; C3'' -&gt; C2''' -&gt; C1</span>
git checkout main <span class="c"># switch to the main branch</span>
git merge caption <span class="c"># merge the caption branch into the main branch, fast-forward</span>
</code></pre></div></div>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/i-rebase-1-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/i-rebase-1-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/i-rebase-1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/i-rebase-1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/i-rebase-2-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/i-rebase-2-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/i-rebase-2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/i-rebase-2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/i-rebase-3-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/i-rebase-3-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/i-rebase-3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/i-rebase-3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/i-rebase-4-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/i-rebase-4-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/i-rebase-4-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/i-rebase-4.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/git/i-rebase-5-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/git/i-rebase-5-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/git/i-rebase-5-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/git/i-rebase-5.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>  
</div>
<div class="caption">
    Illustration of interactive rebase. 1st: starting point. 2nd: `git rebase -i HEAD~2`. 3rd: `git rebase -i HEAD~1`. 4th: `git rebase -i HEAD~2`. 5th: `git checkout main; git merge caption`
</div>


    </div>
  </article>


  
    
    <br>
    <hr>
    <br>
    <ul class="list-disc pl-8"></ul>

    <!-- Adds related posts to the end of an article -->
    <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2>
    <p class="mb-2">Here are some more articles you might like to read next:</p>
  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/erasing-concepts/">Fake Taylor Swift and the Adversarial Game of Concept Erasure and Injection</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/aml-intro/">Tutorial on Adversarial Machine Learning - Part 1</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/watermark-diffusion/">Tree-Ring Watermarks - Fingerprints for Diffusion Images that are Invisible and Robust</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/aml-overview/">Tutorial on Adversarial Machine Learning - Part 2</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/fairness-irt/">Comprehensive Algorithm Portfolio Evaluation using Item Response Theory</a>
  </li>

</div>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2024 Tuan-Anh  Bui. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.

      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script>
  <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script>
  <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7KGSMMS9MS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ window.dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-7KGSMMS9MS');
  </script>
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

    
  </body>
</html>
