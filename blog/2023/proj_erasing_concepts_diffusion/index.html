<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Erasing Undesired Concepts from Diffusion Models | Tuan-Anh  Bui</title>
    <meta name="author" content="Tuan-Anh  Bui">
    <meta name="description" content="Researcher in Generative AI and Trustworthy AI
">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e">
    <link rel="canonical" href="http://localhost:4000/blog/2023/proj_erasing_concepts_diffusion/">

    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">
    <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script>
    <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Tuan-Anh </span>Bui</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/publications/">publications</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">projects</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/repositories/">repositories</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/teaching/"></a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">Erasing Undesired Concepts from Diffusion Models</h1>
            <p class="post-description"></p>
          </header>

          <article>
            <h2 id="resources">Resources</h2>

<ul>
  <li>Conditional Diffusion Models: <a href="https://tuananhbui89.github.io/blog/2023/conditional-diffusion/" rel="external nofollow noopener" target="_blank">https://tuananhbui89.github.io/blog/2023/conditional-diffusion/</a>
</li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>Given a pre-trained generative model such as Stable Diffusion, we aim to remove a generation capability of the model regarding specific concept or keyword, for example “Barack Obama”.
By unlearning that concept, the model cannot generate meaningful output image whenever a prompt with this specific keyword while still retain its capability for all other things.</p>

<p>This idea has been proposed in the paper “Erasing Concepts from Diffusion Models”. However, there are some limitations of this paper:</p>

<ul>
  <li>The concept is erased not completely, but only reduced its probability of generating an image according to the likelihood that is described by the concept, scaled by a power factor \(\eta\).</li>
  <li>The concept to be erased needs to be associated with a specific keyword (e.g., “Barack Obama” or “nudity” or “gun”). However, a concept can be described in many different ways, for example, “Barack Obama” can be described as “the 44th president of the United States” or “the first African American president of the United States”. Therefore, it is not possible to erase all concepts related to “Barack Obama” by just erasing the keyword “Barack Obama”.</li>
  <li>When erasing a specific concept (e.g., “Barack Obama”), related concepts (e.g., “Donald Trump”) can be also erased.</li>
  <li>This erased concept can be recovered by an adversary by crawling images with this concept from the Internet and use Textual Inversion to recover the erased concept.</li>
</ul>

<p>Therefore, we propose a new idea to erase a specific concept completely, without effecting other related concepts. The idea is to utilize an auxiliary classifier to classify the concept (or set of concepts) and then use the gradient of the classifier to guide the unlearning process in the diffusion model.</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/erasing_concepts/examples-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/erasing_concepts/examples-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/erasing_concepts/examples-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/erasing_concepts/examples.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/erasing_concepts/failure-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/erasing_concepts/failure-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/erasing_concepts/failure-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/erasing_concepts/failure.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
</div>
<div class="caption">
     Erasing Concept Examples and Failure Cases
</div>

<!-- It can be done by finetune one of three components: the encoder-decoder, the text encoder and the unet.
However, if just finetune the text-encoder, there is a posibility that an adversary can replace its by a new/fully-capability text-encoder.
There might be also a potential risk of loss capability when finetune the encoder-decoder (need to invesigate further).
Therefore, the safest approach is to finetune the unet. -->

<h2 id="terminology">Terminology</h2>

<ul>
  <li>\(\theta\): the parameters of the fine-tuned generative model to be erased the undesired concept \(c\).</li>
  <li>\(\theta^*\): the parameters of the base generative model.</li>
  <li>\(\psi^*\): the parameters of the base classifier to guide the generation process of the base generative model to generate images with a specific concept \(c\).</li>
  <li>\(\phi\): the parameters of the auxiliary classifier to serve as the classifier to distinguish between the images with the concept \(c\) and the images without the concept \(c\).</li>
  <li>\(x_t^n\): the image generated at the time step \(t\) with the null concept \(n\). Sometimes, we use \(x_t\) instead of \(x_t^n\) for simplicity.</li>
  <li>\(x_t^c\): the image generated at the time step \(t\) with the undesired concept \(c\).</li>
  <li>\(\epsilon_\theta (x_t, t)\): the predicted noise at the time step \(t\) of the fine-tuned diffusion model \(\theta\) with input image \(x_t\).</li>
  <li>\(\epsilon_\theta (x_t, c, t)\): the predicted conditional noise at the time step \(t\) of the fine-tuned diffusion model \(\theta\) with input image \(x_t\).</li>
</ul>

<h2 id="review-of-the-paper-erasing-concepts-from-diffusion-models">Review of the paper “Erasing Concepts from Diffusion Models”</h2>

<p>Aim to reduce the probability of generating an image \(x\) according to the likelihood that is described by the concept, scaled by a power factor \(\eta\).</p>

\[P_{\theta} (x) \propto \frac{P_{\theta^*} (x)}{P_{\theta^*} (c \mid x)^\eta}\]

<p>where \(P_{\theta^*} (x)\) is the likelihood of the image \(x\) under the original model, \(P_{\theta^*} (c \mid x)\) is the likelihood of the concept \(c\) given the image \(x\) under the original model, and \(\theta\) is the parameters of the model after unlearning the concept \(c\).</p>

<p>It can be interpreted as: if the concept \(c\) is present in the image \(x\) in which \(P_{\theta^*} (c \mid x)\) is high, then the likelihood of the image \(x\) under the new model \(P_{\theta} (x)\) will be reduced.
While if the concept \(c\) is not present in the image \(x\) in which \(P_{\theta^*} (c \mid x)\) is low, then the likelihood of the image \(x\) under the new model \(P_{\theta} (x)\) will be increased.</p>

<p>Because of the conditional likelihood:</p>

\[P_{\theta^*} (c \mid x) = \frac{P_{\theta^*} (x \mid c) P_{\theta^*} (c)}{P_{\theta^*} (x)}\]

<p>Therefore, the above equation can be rewritten when taking the derivative w.r.t. \(x\) as follows:</p>

\[\nabla_{x} \log P_{\theta} (x) \propto \nabla_{x} \log P_{\theta^*} (x) - \eta \nabla_{x} \log P_{\theta^*} (c \mid x)\]

\[\nabla_{x} \log P_{\theta} (x) \propto \nabla_{x} \log P_{\theta^*} (x) - \eta (\nabla_{x} \log P_{\theta^*} (x \mid c) + \nabla_{x} \log P_{\theta^*} (c) - \nabla_{x} \log P_{\theta^*} (x))\]

\[\nabla_{x} \log P_{\theta} (x) \propto \nabla_{x} \log P_{\theta^*} (x) - \eta (\nabla_{x} \log P_{\theta^*} (x \mid c) - \nabla_{x} \log P_{\theta^*} (x))\]

<p>Because in the diffusion model, each step has been approximated to a Gaussian distribution, therefore, the gradient of the log-likelihood is computed as follows:</p>

\[\nabla_{x} \log P_{\theta^*} (x) = \frac{1}{\sigma^2} (x - \mu)\]

<p>where \(\mu\) is the mean of the diffusion model, \(\sigma\) is the standard deviation of the diffusion model, and \(c\) is the concept.
Based on the repameterization trick, the gradient of the log-likelihood is correlated with the noise \(\epsilon\) at each step as follows:</p>

\[\epsilon_{\theta}(x_t,t) \propto \epsilon_{\theta^*} (x_t,t) - \eta (\epsilon_{\theta^*}(x_t,c,t) - \epsilon_{\theta^*} (x_t,t))\]

<p>where \(\epsilon_{\theta}(x_t,t)\) is the noise at step \(t\) of the diffusion model after unlearning the concept \(c\).
Finally, to fine-tune the diffusion model from pretrained model \(\theta^*\) to new cleaned model \(\theta\), the authors proposed to minimize the following loss function:</p>

\[\mathcal{L}(\theta) = \mathbb{E}_{x_0 \sim \mathcal{D}} \left[ \sum_{t=0}^{T-1} \left\| \epsilon_{\theta}(x_t,t) - \epsilon_{\theta^*} (x_t,t) + \eta (\epsilon_{\theta^*}(x_t,c,t) - \epsilon_{\theta^*} (x_t,t)) \right\|^2 \right]\]

<p>where \(x_0\) is the input image sampled from data distribution \(\mathcal{D}\), \(T\) is the number of steps of the diffusion model.</p>

<p>Instead of recursively sampling the noise \(\epsilon_{\theta}(x_t,t)\) at every step, we can sample the time step \(t \sim \mathcal{U}(0, T-1)\) and then sample the noise \(\epsilon_{\theta}(x_t,t)\) at that time step.
Therefore, the loss function can be rewritten as follows:</p>

\[\mathcal{L}(\theta) = \mathbb{E}_{x_0 \sim \mathcal{D}} \left[ \left\| \epsilon_{\theta}(x_t,t) - \epsilon_{\theta^*} (x_t,t) + \eta (\epsilon_{\theta^*}(x_t,c,t) - \epsilon_{\theta^*} (x_t,t)) \right\|^2 \right]\]

<p>where \(t \sim \mathcal{U}(0, T-1)\).</p>

<p>However, in the paper, instead of using the above loss function, the author proposed to use the following loss function:</p>

\[\mathcal{L}(\theta) = \mathbb{E}_{x_0 \sim \mathcal{D}} \left[  \left\| \epsilon_{\theta}(x_t,c,t) - \epsilon_{\theta^*} (x_t,t) + \eta (\epsilon_{\theta^*}(x_t,c,t) - \epsilon_{\theta^*} (x_t,t)) \right\|^2 \right]\]

<p>where \(t \sim \mathcal{U}(0, T-1)\).</p>

<p>The difference between the two loss functions is that the first loss function is computed based on the unconditional noise \(\epsilon_{\theta}(x_t,t)\) at the time step \(t\) while the second loss function is computed based on the noise \(\epsilon_{\theta}(x_t,c,t)\) at the time step \(t\) conditioned on the concept \(c\).</p>

<p>Interpretation of the loss function: By minimizing the above loss function, we try to force the conditional noise \(\epsilon_{\theta}(x_t,c,t)\) to be close to the unconditional noise \(\epsilon_{\theta^*} (x_t,t)\) of the original model.</p>

<h2 id="our-idea">Our idea</h2>

<p>The idea is to utilize an auxiliary classifier to classify the concept (or set of concepts) and then use the gradient of the classifier to guide the unlearning process in the diffusion model.</p>

<p>The central optimization problem as follows:</p>

\[P_{\theta} (x) \propto \frac{P_{\theta^*} (x)}{P_{\phi} (c \mid x)^\eta}\]

<p>where \(P_{\phi} (c \mid x)\) is the likelihood of the concept \(c\) given the image \(x\) under the auxiliary classifier.</p>

<p>Similarly, the derivative w.r.t. \(x\) is computed as follows:</p>

\[\nabla_{x} \log P_{\theta} (x) \propto \nabla_{x} \log P_{\theta^*} (x) - \eta \nabla_{x} \log P_{\phi} (c \mid x)\]

<p>The loss function of the diffusion model as follows:</p>

\[\mathcal{L}(\theta) = \mathbb{E}_{x_0 \sim \mathcal{D}} \left[  \left\| \epsilon_{\theta}(x_t,t) - \epsilon_{\theta^*} (x_t,t) + \eta \nabla_{x} \log P_{\phi} (c \mid x_t) \right\|^2 \right]\]

<p>where \(t \sim \mathcal{U}(0, T-1)\).</p>

<p>The loss function of the classifier as follows:</p>

\[\mathcal{L}(\phi) = \mathbb{E}_{x \sim \mathcal{D}} \left[ \log P_{\phi} (c \mid x) \right] - \mathbb{E}_{z \sim \mathcal{N} } \left[ \log P_{\phi} (c \mid G(z,c)) \right] + \mathbb{E}_{z \sim \mathcal{N} } \left[ \log P_{\phi} (c \mid G(z)) \right]\]

<p>where \(G(z,c)\) is the generated image from the noise \(z\) and the concept \(c\).</p>

<p>The loss function of the classifier can be interpreted as follows: the classifier tries to distinguish between two sets of images: the set with concept \(c\) which is generated from the diffusion model and the set without concept \(c\) which is combined from the training set \(\mathcal{D}\) and the generated images from the diffusion model with null concept.</p>

<p>It is a worth noting that the objective of the classifier is also can be formulated as contrastive learning problem.</p>

<p>The loss function of the diffusion model can be interpreted as follows: the diffusion model tries to generate images that are similar to the images generated by the original model, but will not likely to be classified as the concept \(c\) by the classifier.</p>

<p><strong>Note</strong></p>

<!-- There is a mistake in the above idea. When calculating the loss function, the additional term is independent with diffusion parameter $$\theta$$, therefore, this term will not affect the optimization of the diffusion model. We need to find a way to connect the derivative w.r.t $$x$$ with the derivative w.r.t $$\theta$$. -->

<p>In the above equation, when calculating the loss function, the additional term is independent with diffusion parameter \(\theta\), which serves as a bias term.</p>

<h2 id="implemenetation-and-experiments-results">Implemenetation and Experiments’ Results</h2>

<h3 id="base-generative-model">Base generative model</h3>

<p>We use the classifier guidance model released by OpenAI as the base generative model. Link to the model can be found <a href="https://github.com/openai/guided-diffusion" rel="external nofollow noopener" target="_blank">here</a>.</p>

<p>In this repository, there are two models provided: the diffusion model and the classifier to guide the generation process. Both models are trained on the ImageNet dataset with 1000 classes.</p>

<p>There are several pretrained models associated with different resolutions and settings, including: 64x64, 128x128, 256x256, and 512x512. Because of limited computational resources, we only use the 64x64 and 128x128 models.</p>

<h3 id="choosing-the-concept-to-be-erased">Choosing the concept to be erased</h3>

<p>We need to choose several concepts as the target concepts to be erased from 1000 classes of ImageNet dataset. However, we know that there are many classes in ImageNet dataset are quite similar to each other, for example, “dog” breeds or “car” types. These classes are quite challenging and conceptually ambiguous. Therefore, we use the <a href="https://observablehq.com/@mbostock/imagenet-hierarchy" rel="external nofollow noopener" target="_blank">ImageNet hierarchy provided by Mike Bostock</a> to choose some classes that are conceptually clear and distinct from each other. At the end, we choose the following classes:</p>

<ul>
  <li>traffic light: 920</li>
  <li>toilet tissue: 999</li>
  <li>street sign: 919</li>
  <li>pretzel: 932</li>
  <li>menu: 922</li>
  <li>french loaf: 930</li>
  <li>carbonara: 959</li>
  <li>bubble: 971</li>
</ul>

<p>The more advanced algorithm that can erase a specific concept even highly entangled with other concepts might be proposed in the future. However, we believe that using an auxiliary classifier to learn and distinguish between these concepts is an appropriate direction to solve this problem.</p>

<h3 id="overall-framework">Overall framework</h3>

<p>The framework includes four components as follows:</p>

<ul>
  <li>The base/original generative model \(\theta^*\). This model was trained unconditionally, therefore, it can generate images with any concept.</li>
  <li>The base/original classifier \(\psi^*\) to guide the generation process of the base generative model to generate images with a specific concept \(c\). This model is specficed to the classifier guidance model only, which actually should be considered as a part of the generative model. If using a different conditional generative model such as Stable Diffusion, there is no classifier to guide but instead using the textual encoder to encode the concept \(c\) into the latent space.</li>
  <li>The auxiliary classifier \(\phi\) to serve as the classifier to distinguish between the images with the concept \(c\) and the images without the concept \(c\).</li>
  <li>The fine-tuned generative model \(\theta\) to be erased the undesired concept \(c\).</li>
</ul>

<p>In this framework, the base classifier \(\psi^*\) is Unet’s encoder-based classifier, which requires two inputs: the image \(x\) and the time step \(t\).</p>

<h3 id="version-1">Version 1</h3>

<p>For the auxiliary classifier \(\phi\), we use the same architecture as the base classifier \(\psi^*\), and initialize its parameters with the parameters of the base classifier \(\psi^*\). It means that the auxiliary classifier is the multi-class classifier with 1000 classes, which is the same as the base classifier \(\psi^*\).</p>

<p>We also do not finetune the auxiliary classifier \(\phi\) during the training process of the fine-tuned generative model \(\theta\), therefore, \(\phi = \psi^*\) all the time.</p>

<p>The loss function of the diffusion model as follows:</p>

\[\mathcal{L}(\theta) = \mathbb{E}_{x_t \sim P_{\theta}(. \mid c)} \left[  \left\| \epsilon_{\theta}(x_t,t) - \epsilon_{\theta^*} (x_t,t) + \eta \nabla_{x} \log P_{\phi} (c \mid x_t) \right\|^2 \right]\]

<p>where \(t \sim \mathcal{U}(0, T-1)\). \(x_t\) is the image generated at the time step \(t\) from the base diffusion model with the concept \(c\).</p>

<p>\(\epsilon_{\theta}(x_t,t)\) is the predicted noise at the time step \(t\) of the fine-tuned diffusion model \(\theta\). In the implementation of the diffusion model, this is modeled as the Gaussian distribution with the mean \(\mu\) and the standard deviation \(\sigma\) by an Unet model. It requires the concept \(c\) as the input to the Unet model as well, therefore, the correct formulation should be \(\epsilon_{\theta}(x_t,c,t)\) (similarly with null concept \(n\), \(\epsilon_{\theta}(x_n,t) = \epsilon_{\theta}(x_n,n,t)\)).</p>

<p>In this version, we use the mean \(\mu\) only.</p>

<p><strong>Experiment results:</strong></p>

<ul>
  <li>our approach with 64x64 setting seems to be working. The generated images are all meaningless and do not contain the concept \(c\).</li>
</ul>

<p>Results at the time step \(t = 1\):</p>

<p>Null concepts:</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_00_label_782-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_00_label_782-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_00_label_782-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_00_label_782.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_01_label_825-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_01_label_825-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_01_label_825-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_01_label_825.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_02_label_534-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_02_label_534-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_02_label_534-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_02_label_534.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_03_label_429-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_03_label_429-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_03_label_429-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/null_aux_sample_03_label_429.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 1, null concepts
</div>

<p>Erased concepts (label 919: street sign, label 920: traffic light):</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_00_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_00_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_00_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_00_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_01_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_01_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_01_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_01_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_02_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_02_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_02_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_02_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_03_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_03_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_03_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_1/target_aux_sample_03_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 1, Erased concepts 
</div>

<p>Results at the time step \(t = 5\):</p>

<p>Null concepts:</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_00_label_961-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_00_label_961-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_00_label_961-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_00_label_961.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_01_label_997-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_01_label_997-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_01_label_997-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_01_label_997.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_02_label_330-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_02_label_330-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_02_label_330-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_02_label_330.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_03_label_512-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_03_label_512-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_03_label_512-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/null_aux_sample_03_label_512.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 5, Null concepts
</div>

<p>Erased concepts (label 919: street sign, label 920: traffic light):</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_00_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_00_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_00_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_00_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_01_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_01_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_01_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_01_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_02_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_02_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_02_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_02_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_03_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_03_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_03_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_5/target_aux_sample_03_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 5, Erased concepts
</div>

<p>Results at the time step \(t = 10\):</p>

<p>Null concepts:</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_00_label_568-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_00_label_568-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_00_label_568-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_00_label_568.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_01_label_269-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_01_label_269-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_01_label_269-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_01_label_269.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_02_label_749-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_02_label_749-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_02_label_749-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_02_label_749.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_03_label_57-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_03_label_57-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_03_label_57-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/null_aux_sample_03_label_57.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 10, Null concepts
</div>

<p>Erased concepts (label 919: street sign, label 920: traffic light):</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_00_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_00_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_00_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_00_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_01_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_01_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_01_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_01_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_02_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_02_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_02_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_02_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_03_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_03_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_03_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_10/target_aux_sample_03_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 10, Erased concepts
</div>

<!-- Results at the time step $$t = 15$$:

Null concepts:

![Results at the time step t = 15](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_15/null_aux_sample_00_label_682.png)
![Results at the time step t = 15](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_15/null_aux_sample_01_label_966.png)
![Results at the time step t = 15](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_15/null_aux_sample_02_label_202.png)
![Results at the time step t = 15](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_15/null_aux_sample_03_label_476.png)

Erase concepts (label 919: street sign, label 920: traffic light):

![Results at the time step t = 15](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_15/target_aux_sample_00_label_919.png)
![Results at the time step t = 15](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_15/target_aux_sample_01_label_919.png)
![Results at the time step t = 15](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_15/target_aux_sample_02_label_920.png)
![Results at the time step t = 15](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_15/target_aux_sample_03_label_920.png) -->

<p>Results at the time step \(t = 22\):</p>

<p>Null concepts:</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_00_label_158-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_00_label_158-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_00_label_158-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_00_label_158.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_01_label_300-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_01_label_300-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_01_label_300-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_01_label_300.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_02_label_205-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_02_label_205-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_02_label_205-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_02_label_205.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_03_label_43-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_03_label_43-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_03_label_43-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/null_aux_sample_03_label_43.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 22, Null concepts
</div>

<p>Erase concepts (label 919: street sign, label 920: traffic light):</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_00_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_00_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_00_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_00_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_01_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_01_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_01_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_01_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_02_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_02_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_02_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_02_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_03_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_03_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_03_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_22/target_aux_sample_03_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 22, Erased concepts
</div>

<p>Results at the time step \(t = 50\):</p>

<p>Null concepts:</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_00_label_845-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_00_label_845-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_00_label_845-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_00_label_845.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_01_label_273-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_01_label_273-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_01_label_273-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_01_label_273.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_02_label_713-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_02_label_713-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_02_label_713-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_02_label_713.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_03_label_963-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_03_label_963-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_03_label_963-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/null_aux_sample_03_label_963.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 50, Null concepts
</div>

<p>Erased concepts (label 919: street sign, label 920: traffic light):</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_00_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_00_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_00_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_00_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_01_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_01_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_01_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_01_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_02_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_02_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_02_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_02_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_03_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_03_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_03_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v1_t2/step_50/target_aux_sample_03_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 50, Erased concepts
</div>

<!-- Results at the time step $$t = 200$$:

Null concepts: -->
<!-- 
![Results at the time step t = 200](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_200/null_aux_sample_00_label_340.png)
![Results at the time step t = 200](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_200/null_aux_sample_01_label_862.png)
![Results at the time step t = 200](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_200/null_aux_sample_02_label_142.png)
![Results at the time step t = 200](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_200/null_aux_sample_03_label_160.png)

Erased concepts (label 919: street sign, label 920: traffic light):

![Results at the time step t = 200](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_200/target_aux_sample_00_label_919.png)
![Results at the time step t = 200](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_200/target_aux_sample_01_label_919.png)
![Results at the time step t = 200](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_200/target_aux_sample_02_label_920.png)
![Results at the time step t = 200](assets/img/guided_diffusion/outputs_64x64_v1_t2/step_200/target_aux_sample_03_label_920.png) -->

<h3 id="version-2">Version 2</h3>

<p>In this version, we still use the same procedure on the auxiliary classifier \(\phi\).</p>

<p>However, we change the loss function of the diffusion model inspired by the loss of the ESD model as follows:</p>

\[\mathcal{L}(\theta) = \mathbb{E}_{x_t \sim P_{\theta}(. \mid c), x_n \sim P_{\theta}(.)} \left[  \left\| \epsilon_{\theta}(x_t,t) - \epsilon_{\theta^*} (x_n,t) + \eta \nabla_{x} \log P_{\phi} (c \mid x_t) \right\|^2 \right]\]

<p>where \(x_n\) is the image generated at the time step \(t\) from the base diffusion model with the null concept.</p>

<p><strong>Experiment results:</strong></p>

<ul>
  <li>our approach with 128x128 resolution seems to be not working. The generated images still contain the concept \(c\). It is weird.</li>
</ul>

<h3 id="version-3">Version 3</h3>

<p>In this version, we change the loss function of the diffusion model as follows:</p>

\[\mathcal{L}(\theta) = \mathbb{E}_{x_t \sim P_{\theta}(. \mid c), x_n \sim P_{\theta}(.)} \left[  \left\| \epsilon_{\theta}(x_t,t) - \epsilon_{\theta^*} (x_n,t) \right\|^2 + \eta \left\|  \nabla_{x} \log P_{\phi} (c \mid x_t) \right\|^2 \right]\]

<h3 id="version-4">Version 4</h3>

<p>Add the additional term to remember the concept that we don’t want to erase</p>

\[\mathcal{L}(\theta) = \mathbb{E}_{x_c \sim P_{\theta}(. \mid c), x_n \sim P_{\theta}(.)} \left[ \eta_{\text{forget}} \left\| \epsilon_{\theta}(x_c,t) - \epsilon_{\theta^*} (x_n,t) \right\|^2 + \eta_{\text{rem}} \left\| \epsilon_{\theta}(x_n,t) - \epsilon_{\theta^*} (x_n,t) \right\|^2 + \eta_{\text{bias}} \left\|  \nabla_{x} \log P_{\phi} (c \mid x_c) \right\|^2 \right]\]

<p>where \(\eta_{\text{forget}}\), \(\eta_{\text{rem}}\), and \(\eta_{\text{bias}}\) are the weights of each forget term, remember term, and bias term, respectively.</p>

<p>Results at the time step t = 10, \(\eta_{\text{forget}} = 0.01\) and \(\eta_{\text{bias}} = 0\)</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_00_label_680-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_00_label_680-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_00_label_680-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_00_label_680.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_01_label_597-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_01_label_597-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_01_label_597-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_01_label_597.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_02_label_804-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_02_label_804-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_02_label_804-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_02_label_804.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_03_label_245-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_03_label_245-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_03_label_245-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/null_aux_sample_03_label_245.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 10, Null concepts
</div>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_00_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_00_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_00_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_00_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_01_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_01_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_01_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_01_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_02_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_02_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_02_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_02_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_03_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_03_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_03_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v4_bias0_forget001/step_10/target_aux_sample_03_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 10, Erased concepts
</div>

<p><strong>Sub version 4.2</strong> is the same as version 4 but in the forget term, we force the noise of the generated image \(x_c\) with concept \(c\) to be close to the noise of the generated image \(x_a\) with a specific alternative target concept \(a\).</p>

\[\mathcal{L}(\theta) = \mathbb{E}_{x_c \sim P_{\theta}(. \mid c), x_a \sim P_{\theta}(. \mid a), x_n \sim P_{\theta}(.)} \left[ \eta_{\text{forget}} \left\| \epsilon_{\theta}(x_c,t) - \epsilon_{\theta^*} (x_a,t) \right\|^2 + \eta_{\text{rem}} \left\| \epsilon_{\theta}(x_n,t) - \epsilon_{\theta^*} (x_n,t) \right\|^2 + \eta_{\text{bias}} \left\|  \nabla_{x} \log P_{\phi} (c \mid x_c) \right\|^2 \right]\]

<p>Moreover, we also change the time step schedule as uniform distribution \(t \sim \mathcal{U}(1, T)\) to the a specific range \(t \sim \mathcal{U}(t_{\text{min}}, t_{\text{max}})\), for example, \(t_{\text{min}} = 160\) and \(t_{\text{max}} = 250\) where \(T = 250\).</p>

<p>Results at the time step t = 7, \(\eta_{\text{forget}} = 0.01\) and \(\eta_{\text{bias}} = 0\)</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_00_label_847-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_00_label_847-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_00_label_847-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_00_label_847.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_01_label_10-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_01_label_10-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_01_label_10-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_01_label_10.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_02_label_204-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_02_label_204-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_02_label_204-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_02_label_204.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_03_label_980-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_03_label_980-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_03_label_980-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/null_aux_sample_03_label_980.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 7, Null concepts
</div>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_00_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_00_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_00_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_00_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_01_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_01_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_01_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_01_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_02_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_02_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_02_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_02_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_03_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_03_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_03_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_7/erased_aux_sample_03_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 7, Erased concepts
</div>

<p>Results at the time step t = 8, \(\eta_{\text{forget}} = 0.01\) and \(\eta_{\text{bias}} = 0\)</p>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_00_label_192-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_00_label_192-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_00_label_192-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_00_label_192.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_01_label_228-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_01_label_228-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_01_label_228-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_01_label_228.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_02_label_82-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_02_label_82-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_02_label_82-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_02_label_82.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_03_label_116-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_03_label_116-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_03_label_116-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/null_aux_sample_03_label_116.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 8, Null concepts
</div>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_00_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_00_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_00_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_00_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_01_label_920-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_01_label_920-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_01_label_920-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_01_label_920.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_02_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_02_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_02_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_02_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_03_label_919-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_03_label_919-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_03_label_919-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/guided_diffusion/outputs_64x64_v41_bias0_forget001/step_8/erased_aux_sample_03_label_919.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

</figure>

    </div>        
</div>
<div class="caption">
     Results at the time step t = 8, Erased concepts
</div>

<!-- 
#### Analysis

**Bug ?** There are something wrong with the code. `erased_aux_out` exactly the same with `erased_org_out` and `erased_org_sample` instead of `erased_aux_sample`

It is because of the following code which use `erased_org_sample` instead of `erased_aux_sample`:

```python
erased_aux_out = auxiliary_diffusion.p_mean_variance(
    auxiliary_model,
    erased_org_sample.detach(), 
    t,
    clip_denoised=args.clip_denoised,
    denoised_fn=None,
    model_kwargs={"y": erased_classes},
)
```

Meaning of the above code:  

**Revisit the central optimization problem**

$$P_{\theta} (x) \propto \frac{P_{\theta^*} (x)}{P_{\phi} (c \mid x)^\eta}$$

$$P_{\theta} (x) \propto \frac{ P(c) P_{\theta^*} (x \mid c) + P(c') P_{\theta^*} (x \mid c')}{P_{\phi} (c \mid x)^\eta}$$

We also consider $$P_{\theta} (x) = P(c) P_{\theta} (x \mid c) + P(c') P_{\theta} (x \mid c')$$ in which $$P_{\theta} (x \mid c)$$ as small as possible (or  $$P_{\theta} (c \mid x)$$ as small as possible?)

$$\nabla_{x} \log P_{\theta} (x) \propto \nabla_{x} \log P_{\theta^*} (x) - \eta \nabla_{x} \log P_{\phi} (c \mid x)$$

$$\nabla_{x} \log \left[ P(c) P_{\theta} (x \mid c) + P(c') P_{\theta} (x \mid c') \right] \propto \nabla_{x} \log \left[ P(c) P_{\theta^*} (x \mid c) + P(c') P_{\theta^*} (x \mid c') \right] - \eta \nabla_{x} \log P_{\phi} (c \mid x)$$

$$ \frac{P(c)}{P_\theta(x)} \nabla_{x} P_{\theta} (x \mid c) + \frac{P(c')}{P_\theta(x)} \nabla_{x} P_{\theta} (x \mid c') \propto \frac{P(c)}{P_{\theta^*}(x)} \nabla_{x} P_{\theta^*} (x \mid c) + \frac{P(c')}{P_{\theta^*}(x)} \nabla_{x} P_{\theta^*} (x \mid c') - \eta \nabla_{x} \log P_{\phi} (c \mid x)$$

$$ \frac{P(c) P_\theta (x \mid c)}{P_\theta(x)} \nabla_{x} \log P_{\theta} (x \mid c) + \frac{P(c') P_\theta (x \mid c')}{P_\theta(x)} \nabla_{x} \log P_{\theta} (x \mid c') \propto \frac{P(c) P_{\theta^*}(x \mid c)}{P_{\theta^*}(x)} \nabla_{x} \log P_{\theta^*} (x \mid c) + \frac{P(c') P_{\theta^*}(x \mid c')}{P_{\theta^*}(x)} \nabla_{x} \log P_{\theta^*} (x \mid c') - \eta \nabla_{x} \log P_{\phi} (c \mid x)$$

$$ \frac{P_{\theta}(x,c)}{P_\theta(x)}  \nabla_{x} \log P_{\theta} (x \mid c) + \frac{P_{\theta}(x,c')}{P_\theta(x)}  \nabla_{x} \log P_{\theta} (x \mid c') \propto \frac{P_{\theta^*}(x,c)}{P_{\theta^*}(x)}  \nabla_{x} \log P_{\theta^*} (x \mid c) + \frac{P_{\theta^*}(x,c')}{P_{\theta^*}(x)}  \nabla_{x} \log P_{\theta^*} (x \mid c') - \eta \nabla_{x} \log P_{\phi} (c \mid x)$$

Because in the diffusion model, each step has been approximated to a Gaussian distribution, therefore, the gradient of the log-likelihood is computed as follows:

$$\nabla_{x} \log P_{\theta^*} (x) = \frac{1}{\sigma^2} (x - \mu)$$

where $$x - \mu = \epsilon(x,t)$$. Therefore, we have

$$ \frac{P_{\theta}(x,c)}{P_\theta(x)} \frac{\epsilon_{\theta}(x_c,t)}{\sigma^2} + \frac{P_{\theta}(x,c')}{P_\theta(x)} \frac{\epsilon_{\theta}(x_{c'},t)}{\sigma^2} \propto \frac{P_{\theta^*}(x,c)}{P_{\theta^*}(x)} \frac{\epsilon_{\theta^*}(x_c,t)}{\sigma^2} + \frac{P_{\theta^*}(x,c')}{P_{\theta^*}(x)} \frac{\epsilon_{\theta^*}(x_{c'},t)}{\sigma^2} - \eta \nabla_{x} \log P_{\phi} (c \mid x)$$

consider the model $$\theta$$ and $$\theta^*$$ have the same variance $$\sigma$$ 

### Understand the code/implementation

What does the following code do?

```python
erased_aux_out = auxiliary_diffusion.p_mean_variance(
    auxiliary_model,
    erased_org_sample.detach(),
    t,
    clip_denoised=args.clip_denoised,
    denoised_fn=None,
    model_kwargs={"y": erased_classes},
)
```

Find out that the above code was used incorrectly!!! It should take the noised version $$x_{c,t}$$ or $$x_{n,t}$$ instead of the original $$x_{c,0}$$ or $$x_{n,0}$$ directly. -->

<h3 id="version-5">Version 5</h3>

<p>Given \(x_t\) from (uncondition/standard) forward diffusion model, there are two approaches to find the noise \(\epsilon_t\):</p>

<ul>
  <li>the (uncondition/standard) \(\epsilon_\theta(x_t,t)\)</li>
  <li>the condition \(\hat{\epsilon}_{\theta}(x_t,t,y,\phi) = \epsilon_\theta(x_t,t) - \sqrt{1 - \bar{\alpha}_t} \nabla_{x_t} \log p_\phi (y \mid x_t)\) as in classifier-guidance model</li>
</ul>

<p>And we also can have two approaches to obtain the projected image \(\tilde{x}_0\):</p>

<ul>
  <li>the (uncondition/standard) \(\tilde{x}_0 = \frac{x_t - \sqrt{1 - \bar{\alpha}_t} \epsilon_\theta(x_t,t)}{\sqrt{\bar{\alpha}_t}}\)</li>
  <li>the condition \(\tilde{x}_0 = \frac{x_t - \sqrt{1 - \bar{\alpha}_t} \hat{\epsilon}_{\theta}(x_t,t,y,\phi)}{\sqrt{\bar{\alpha}_t}}\)</li>
</ul>

<p>Because we don’t touch the classifier \(\phi\) but only fine-tune the diffusion model \(\theta\), therefore, in this version, we will use the second approach to obtain \(\epsilon_t\) and \(\tilde{x}_0\) for the final objective loss.</p>

<!-- ### Version 5

Learning fine-tuned generative model $$\theta$$ in the way that it will generate an image that is similar to the original image $$x$$ but will not be classified as the concept $$c$$ by the classifier $$\phi$$. But this time, at each time step we will project the image $$x_c$$ to approximate the image $$\tilde{x}_0$$ by using DDIM framework. -->

<h3 id="version-6">Version 6</h3>

<p>From Flow Matching idea, we can have two follow up ideas:</p>

<ul>
  <li>At any abitrary time step t, we find an adversarial latent that close to the latent of the erased image \(x_t^f\) but in different concepts. Then we can use this adversarial latent to guide the unlearning process. We can use CLIP base to search the most similar one in other concept or can use auxiliary classifier to search or use adversarial attack to gen. Another idea is using the <strong>concept alignment loss</strong> as in the paper “”, we can find the most similar image in other concept.</li>
  <li>We use transformation (i.e., blurring) to transform the image with concept \(c\) so that the transformed image looks close to the original image but cannot recognize the concept \(c\) anymore. This transformed image can help the training more stable because the change is small than making the image meaningless.</li>
</ul>

<p>The main principle of the two above ideas is how to make the training smoother and more stable by finding the most similar image in other concept or by transforming the image.</p>

          </article>
</div>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2024 Tuan-Anh  Bui. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.

      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script>
  <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script>
  <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7KGSMMS9MS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ window.dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-7KGSMMS9MS');
  </script>
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

    
  </body>
</html>
